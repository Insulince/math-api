+ : ============================== ORCHESTRATING MATH-API ==============================
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ buildOrchestrationLevel=build
+ pushOrchestrationLevel=push
+ deployOrchestrationLevel=deploy
+ '[' deploy '!=' build ']'
+ '[' deploy '!=' push ']'
+ '[' deploy '!=' deploy ']'
+ orchestrationLevel=deploy
+ '[' .. == '' ']'
+ mathApiRootLocation=..
++ pwd
+ originalLocation=/Users/Justin/Go/src/math-api/base-api
+ projectNames=("router" "calculation-api" "addition-api" "subtraction-api" "multiplication-api" "division-api")
+ for projectName in "${projectNames[@]}"
+ cd ../router
+ bash ./scripts/orchestrate.sh 192.168.1.100:5000 0.0.4-orchestrate deploy ..
+ : ==================== ORCHESTRATING ROUTER ====================
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ buildOrchestrationLevel=build
+ pushOrchestrationLevel=push
+ deployOrchestrationLevel=deploy
+ '[' deploy '!=' build ']'
+ '[' deploy '!=' push ']'
+ '[' deploy '!=' deploy ']'
+ orchestrationLevel=deploy
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ '[' ']'
+ bash ./scripts/build.sh 0.0.4-orchestrate ..
+ : ========== BUILDING ROUTER ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ releaseDockerfile=./Dockerfile
+ buildContext=..
+ project=math-api
+ repository=router
+ releaseImage=math-api/router:0.0.4-orchestrate
+ docker pull alexellis2/nginx-arm:latest
latest: Pulling from alexellis2/nginx-arm
Digest: sha256:8d234dec66fc872ba11a7f09306d66ffb08d8dff953195b2c70f4aa655bc5bf8
Status: Image is up to date for alexellis2/nginx-arm:latest
+ docker build --no-cache -t math-api/router:0.0.4-orchestrate -f ./Dockerfile ..
Sending build context to Docker daemon  46.62MB
Step 1/4 : FROM alexellis2/nginx-arm:latest
 ---> f602e1a412d0
Step 2/4 : WORKDIR /etc/nginx
 ---> Running in 82c7460c7810
Removing intermediate container 82c7460c7810
 ---> 272efd11a6f9
Step 3/4 : COPY ./router/nginx.conf ./nginx.conf
 ---> 56516550b524
Step 4/4 : CMD ["nginx", "-g", "daemon off;"]
 ---> Running in ebece10de4aa
Removing intermediate container ebece10de4aa
 ---> 144ab84e49ce
Successfully built 144ab84e49ce
Successfully tagged math-api/router:0.0.4-orchestrate
+ : Successfully built image math-api/router:0.0.4-orchestrate.
+ : ========== BUILD OF ROUTER SUCCESSFUL ==========
+ '[' deploy == build ']'
+ bash ./scripts/push.sh 192.168.1.100:5000 0.0.4-orchestrate
+ : ========== PUSHING ROUTER ==========
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ image=math-api/router:0.0.4-orchestrate
+ taggedImage=192.168.1.100:5000/math-api/router:0.0.4-orchestrate
+ docker tag math-api/router:0.0.4-orchestrate 192.168.1.100:5000/math-api/router:0.0.4-orchestrate
+ docker push 192.168.1.100:5000/math-api/router:0.0.4-orchestrate
The push refers to repository [192.168.1.100:5000/math-api/router]
b9d8be1a5b5f: Preparing
c878ebb3615f: Preparing
b9b28e766444: Preparing
39107ced5953: Preparing
5f70bf18a086: Preparing
5f70bf18a086: Preparing
5f70bf18a086: Preparing
5f70bf18a086: Preparing
5f70bf18a086: Preparing
90b91d521152: Preparing
b50c863db386: Preparing
4212714a06b5: Preparing
90b91d521152: Waiting
b50c863db386: Waiting
4212714a06b5: Waiting
c878ebb3615f: Layer already exists
b9b28e766444: Layer already exists
5f70bf18a086: Layer already exists
39107ced5953: Layer already exists
4212714a06b5: Layer already exists
90b91d521152: Layer already exists
b50c863db386: Layer already exists
b9d8be1a5b5f: Pushed
0.0.4-orchestrate: digest: sha256:d42281bcc1e4e0af921083ffd22d92c431789f424f6a9157cd388142652971d9 size: 2806
+ : Successfully pushed image 192.168.1.100:5000/math-api/router:0.0.4-orchestrate.
+ : ========== PUSH OF ROUTER SUCCESSFUL ==========
+ '[' deploy == build ']'
+ '[' deploy == push ']'
+ bash ./scripts/deploy.sh 0.0.4-orchestrate ..
+ : ========== DEPLOYING ROUTER ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ version=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ releaseName=router
+ helmFolderLocation=../helm/router
+ chartLocation=../helm/router/Chart.yaml
+ valuesLocation=../helm/router/values.yaml
+ sed -E 's/version: .+/version: 0.0.4-orchestrate/' ../helm/router/Chart.yaml
+ mv ../helm/router/Chart.yaml.intermediate ../helm/router/Chart.yaml
+ sed -E 's/  tag: .+/  tag: 0.0.4-orchestrate/' ../helm/router/values.yaml
+ mv ../helm/router/values.yaml.intermediate ../helm/router/values.yaml
+ helm upgrade --install router ../helm/router
Release "router" has been upgraded. Happy Helming!
LAST DEPLOYED: Sat Sep  8 22:47:45 2018
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME    AGE
router  6d

==> v1beta1/Deployment
router  6d

==> v1/Pod(related)

NAME                     READY  STATUS             RESTARTS  AGE
router-5f4b7b4f88-kw5jl  1/1    Terminating        0         20m
router-6f848cb949-2g6rc  0/1    ContainerCreating  0         0s


NOTES:

Router successfully installed!
Try it out (once pod is running):
curl http://192.168.1.100:80
+ : Successfully deployed release router.
+ : ========== DEPLOYMENT OF ROUTER SUCCESSFUL ==========
+ : ==================== ORCHESTRATION OF ROUTER SUCCESSFUL ====================
+ cd /Users/Justin/Go/src/math-api/base-api
+ for projectName in "${projectNames[@]}"
+ cd ../calculation-api
+ bash ./scripts/orchestrate.sh 192.168.1.100:5000 0.0.4-orchestrate deploy ..
+ : ==================== ORCHESTRATING CALCULATION-API ====================
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ buildOrchestrationLevel=build
+ pushOrchestrationLevel=push
+ deployOrchestrationLevel=deploy
+ '[' deploy '!=' build ']'
+ '[' deploy '!=' push ']'
+ '[' deploy '!=' deploy ']'
+ orchestrationLevel=deploy
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ '[' ']'
+ bash ./scripts/build.sh 0.0.4-orchestrate ..
+ : ========== BUILDING CALCULATION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ buildDockerfile=./Dockerfile.build
+ releaseDockerfile=./Dockerfile.release
+ buildContext=..
+ project=math-api
+ repository=calculation-api
+ buildImage=math-api/calculation-api:build
+ releaseImage=math-api/calculation-api:0.0.4-orchestrate
+ buildArtifact=app
+ buildArtifactLocation=/go/src/math-api/calculation-api/bin/app
+ docker pull golang:alpine
alpine: Pulling from library/golang
Digest: sha256:9bd3b457354d16b8d84e6bb8fc95a0dd3770a3cefd682056393ad041e40af1f8
Status: Image is up to date for golang:alpine
+ docker pull alpine:latest
latest: Pulling from library/alpine
Digest: sha256:7043076348bf5040220df6ad703798fd8593a0918d06d3ce30c6c93be117e430
Status: Image is up to date for alpine:latest
+ docker build -t math-api/calculation-api:build -f ./Dockerfile.build ..
Sending build context to Docker daemon  46.62MB
Step 1/10 : FROM golang:alpine
 ---> ffe224d301bc
Step 2/10 : MAINTAINER justinreusnow@gmail.com
 ---> Running in 939d88ee18e5
Removing intermediate container 939d88ee18e5
 ---> 13c94531999a
Step 3/10 : WORKDIR /go/src/math-api/calculation-api
 ---> Running in e732b198b3aa
Removing intermediate container e732b198b3aa
 ---> a604cdab0cd4
Step 4/10 : COPY ./base-api ../base-api
 ---> e589180159cf
Step 5/10 : COPY ./calculation-api .
 ---> b1b7d3afd9a5
Step 6/10 : RUN apk add git
 ---> Running in 2ccbc00a311c
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz
(1/6) Installing nghttp2-libs (1.32.0-r0)
(2/6) Installing libssh2 (1.8.0-r3)
(3/6) Installing libcurl (7.61.0-r0)
(4/6) Installing expat (2.2.5-r0)
(5/6) Installing pcre2 (10.31-r0)
(6/6) Installing git (2.18.0-r0)
Executing busybox-1.28.4-r0.trigger
OK: 19 MiB in 20 packages
Removing intermediate container 2ccbc00a311c
 ---> 77bcda7b3885
Step 7/10 : RUN go get ./cmd/srv
 ---> Running in a182128844b6
Removing intermediate container a182128844b6
 ---> b21d036bb453
Step 8/10 : ENV GOOS=linux
 ---> Running in dad1a654271f
Removing intermediate container dad1a654271f
 ---> 73f2e0242a3d
Step 9/10 : ENV GOARCH=arm
 ---> Running in eccbf3a77da1
Removing intermediate container eccbf3a77da1
 ---> 343991f63395
Step 10/10 : RUN go build -o ./bin/app ./cmd/srv
 ---> Running in 0bd338b738fd
Removing intermediate container 0bd338b738fd
 ---> 90399ec4f095
Successfully built 90399ec4f095
Successfully tagged math-api/calculation-api:build
+ docker create --name build_container math-api/calculation-api:build
7ff6de372dfc70fd4057c6164fcb00b1c73c543ea760337cdf9a6c8b23d8b643
+ docker cp build_container:/go/src/math-api/calculation-api/bin/app ./app
+ docker rm -f build_container
build_container
+ docker build -t math-api/calculation-api:0.0.4-orchestrate -f ./Dockerfile.release ..
Sending build context to Docker daemon  56.52MB
Step 1/4 : FROM alpine:latest
 ---> 11cd0b38bc3c
Step 2/4 : WORKDIR /root/
 ---> Using cache
 ---> eb1b1d55c900
Step 3/4 : COPY ./calculation-api/app .
 ---> Using cache
 ---> 6a5d517cf095
Step 4/4 : CMD ["./app"]
 ---> Using cache
 ---> b74d5a33da93
Successfully built b74d5a33da93
Successfully tagged math-api/calculation-api:0.0.4-orchestrate
+ rm -r ./app
+ docker rmi math-api/calculation-api:build
Untagged: math-api/calculation-api:build
Deleted: sha256:90399ec4f09561ff9d0afbc8012374be56aaeefc1512a39f9a70045f4161d140
Deleted: sha256:59295f42fb10a163c93f70462005fa779fd99466ccd7b5b0a43809e3f806579d
Deleted: sha256:343991f63395a468a2ee938b4f6374a5a5d2d75fba69310066dce2fcaab7bc54
Deleted: sha256:73f2e0242a3d1388bdf2f1fd93f60e9a7fc00a5b1199f362cc3ab02cea55e676
Deleted: sha256:b21d036bb453bd16940a0d6b53c3fa44c00cb5e4c8847b3ae633478c8c470be8
Deleted: sha256:859eb40eeb3e9660837c92e6fccacf27044fca84b932898b80fd2b61735ac628
Deleted: sha256:77bcda7b3885da05cbdf9a33781aa15550383e36f091435dfec5cdfbbcdb5b6a
Deleted: sha256:58345bfa0ded513e26079f88cd17eb4bee6078fa7c6228eb72432b12bed3e054
Deleted: sha256:b1b7d3afd9a5da533fd8ee66e31b6fe68470ea1256e15c8aa9ac2d5a0472d6db
Deleted: sha256:9c3f406debfb0a6847d9b89ca50cf2278fd49d09176d32dbbd3433607c7071d0
Deleted: sha256:e589180159cfa0ff41caa1f6508d567dafbed5a6cbb35db40ed16544041c08e6
Deleted: sha256:0d1a52ea8e58cee639ba22f9e09aece9fad3a522ecb3690a89b56046725507fd
Deleted: sha256:a604cdab0cd43ce44860e604c617d5094d58f7653a4b5df5955b1181899898ea
Deleted: sha256:c299532bb81baba73c67c3bd8dc0f6a4703dd503abc3b295f88f8548c4f51383
Deleted: sha256:13c94531999a22df7f061b4b306d8b19c05edb69f190ea85c69e36d7a50d308c
+ : Successfully built image math-api/calculation-api:0.0.4-orchestrate.
+ : ========== BUILD OF CALCULATION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ bash ./scripts/push.sh 192.168.1.100:5000 0.0.4-orchestrate
+ : ========== PUSHING CALCULATION-API ==========
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ image=math-api/calculation-api:0.0.4-orchestrate
+ taggedImage=192.168.1.100:5000/math-api/calculation-api:0.0.4-orchestrate
+ docker tag math-api/calculation-api:0.0.4-orchestrate 192.168.1.100:5000/math-api/calculation-api:0.0.4-orchestrate
+ docker push 192.168.1.100:5000/math-api/calculation-api:0.0.4-orchestrate
The push refers to repository [192.168.1.100:5000/math-api/calculation-api]
4c7d4493e600: Preparing
73046094a9b8: Preparing
4c7d4493e600: Layer already exists
73046094a9b8: Layer already exists
0.0.4-orchestrate: digest: sha256:69f06907577b767a8288e5a876eb555adc07d2ba2d977cda43b92da83b22cc07 size: 739
+ : Successfully pushed image 192.168.1.100:5000/math-api/calculation-api:0.0.4-orchestrate.
+ : ========== PUSH OF CALCULATION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ '[' deploy == push ']'
+ bash ./scripts/deploy.sh 0.0.4-orchestrate ..
+ : ========== DEPLOYING CALCULATION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ version=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ releaseName=calculation-api
+ helmFolderLocation=../helm/calculation-api
+ chartLocation=../helm/calculation-api/Chart.yaml
+ valuesLocation=../helm/calculation-api/values.yaml
+ sed -E 's/version: .+/version: 0.0.4-orchestrate/' ../helm/calculation-api/Chart.yaml
+ mv ../helm/calculation-api/Chart.yaml.intermediate ../helm/calculation-api/Chart.yaml
+ sed -E 's/  tag: .+/  tag: 0.0.4-orchestrate/' ../helm/calculation-api/values.yaml
+ mv ../helm/calculation-api/values.yaml.intermediate ../helm/calculation-api/values.yaml
+ helm upgrade --install calculation-api ../helm/calculation-api
Release "calculation-api" has been upgraded. Happy Helming!
LAST DEPLOYED: Sat Sep  8 22:48:37 2018
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME             AGE
calculation-api  3d

==> v1beta1/Deployment
calculation-api  3d

==> v1/Pod(related)

NAME                              READY  STATUS             RESTARTS  AGE
calculation-api-6c7b889777-6svn8  1/1    Terminating        0         19m
calculation-api-7669b988d6-h2pjc  0/1    ContainerCreating  0         1s


NOTES:

Calculation API successfully installed!

+ : Successfully deployed release calculation-api.
+ : ========== DEPLOYMENT OF CALCULATION-API SUCCESSFUL ==========
+ : ==================== ORCHESTRATION OF CALCULATION-API SUCCESSFUL ====================
+ cd /Users/Justin/Go/src/math-api/base-api
+ for projectName in "${projectNames[@]}"
+ cd ../addition-api
+ bash ./scripts/orchestrate.sh 192.168.1.100:5000 0.0.4-orchestrate deploy ..
+ : ==================== ORCHESTRATING ADDITION-API ====================
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ buildOrchestrationLevel=build
+ pushOrchestrationLevel=push
+ deployOrchestrationLevel=deploy
+ '[' deploy '!=' build ']'
+ '[' deploy '!=' push ']'
+ '[' deploy '!=' deploy ']'
+ orchestrationLevel=deploy
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ '[' ']'
+ bash ./scripts/build.sh 0.0.4-orchestrate ..
+ : ========== BUILDING ADDITION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ buildDockerfile=./Dockerfile.build
+ releaseDockerfile=./Dockerfile.release
+ buildContext=..
+ project=math-api
+ repository=addition-api
+ buildImage=math-api/addition-api:build
+ releaseImage=math-api/addition-api:0.0.4-orchestrate
+ buildArtifact=app
+ buildArtifactLocation=/go/src/math-api/addition-api/bin/app
+ docker pull golang:alpine
alpine: Pulling from library/golang
Digest: sha256:9bd3b457354d16b8d84e6bb8fc95a0dd3770a3cefd682056393ad041e40af1f8
Status: Image is up to date for golang:alpine
+ docker pull alpine:latest
latest: Pulling from library/alpine
Digest: sha256:7043076348bf5040220df6ad703798fd8593a0918d06d3ce30c6c93be117e430
Status: Image is up to date for alpine:latest
+ docker build -t math-api/addition-api:build -f ./Dockerfile.build ..
Sending build context to Docker daemon  46.63MB
Step 1/10 : FROM golang:alpine
 ---> ffe224d301bc
Step 2/10 : MAINTAINER justinreusnow@gmail.com
 ---> Running in 78f8ebc731db
Removing intermediate container 78f8ebc731db
 ---> add7fcb3f4e4
Step 3/10 : WORKDIR /go/src/math-api/addition-api
 ---> Running in dca985424ce9
Removing intermediate container dca985424ce9
 ---> 745754dcdb44
Step 4/10 : COPY ./base-api ../base-api
 ---> e1756ab74af4
Step 5/10 : COPY ./addition-api .
 ---> c188ec237d4c
Step 6/10 : RUN apk add git
 ---> Running in 3e626e474bd3
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz
(1/6) Installing nghttp2-libs (1.32.0-r0)
(2/6) Installing libssh2 (1.8.0-r3)
(3/6) Installing libcurl (7.61.0-r0)
(4/6) Installing expat (2.2.5-r0)
(5/6) Installing pcre2 (10.31-r0)
(6/6) Installing git (2.18.0-r0)
Executing busybox-1.28.4-r0.trigger
OK: 19 MiB in 20 packages
Removing intermediate container 3e626e474bd3
 ---> 495597173e49
Step 7/10 : RUN go get ./cmd/srv
 ---> Running in b14ff4fc92df
Removing intermediate container b14ff4fc92df
 ---> c6c13f78c2cd
Step 8/10 : ENV GOOS=linux
 ---> Running in b611bc774c0d
Removing intermediate container b611bc774c0d
 ---> 4c7d94a04abb
Step 9/10 : ENV GOARCH=arm
 ---> Running in 16d8ba0b1ad3
Removing intermediate container 16d8ba0b1ad3
 ---> bf866fe329cc
Step 10/10 : RUN go build -o ./bin/app ./cmd/srv
 ---> Running in 20ccc7cee249
Removing intermediate container 20ccc7cee249
 ---> 9251595bb6fd
Successfully built 9251595bb6fd
Successfully tagged math-api/addition-api:build
+ docker create --name build_container math-api/addition-api:build
dd829d8971262807e949e1a5ac568eae23189064a8f3491d773a91465bad0ca7
+ docker cp build_container:/go/src/math-api/addition-api/bin/app ./app
+ docker rm -f build_container
build_container
+ docker build -t math-api/addition-api:0.0.4-orchestrate -f ./Dockerfile.release ..
Sending build context to Docker daemon  56.74MB
Step 1/4 : FROM alpine:latest
 ---> 11cd0b38bc3c
Step 2/4 : WORKDIR /root/
 ---> Using cache
 ---> eb1b1d55c900
Step 3/4 : COPY ./addition-api/app .
 ---> Using cache
 ---> 3a93d7e8cf6f
Step 4/4 : CMD ["./app"]
 ---> Using cache
 ---> 0f26dc54843b
Successfully built 0f26dc54843b
Successfully tagged math-api/addition-api:0.0.4-orchestrate
+ rm -r ./app
+ docker rmi math-api/addition-api:build
Untagged: math-api/addition-api:build
Deleted: sha256:9251595bb6fdc9a5b924ced339c08a39029ff67a258a9943082865bb1bb1f5e1
Deleted: sha256:47523d49c85602594df23f2df719dce9f7a441df8bae445f6048ea337ed958d0
Deleted: sha256:bf866fe329ccc3ad6e6237f85399b99ef8dfe39d59d944242290b9da266be16e
Deleted: sha256:4c7d94a04abbba74e7270aab780c588f861f880f58e0d5bb8ae56df31c9d7bad
Deleted: sha256:c6c13f78c2cd53a3f1bfd71a98cfb6c3658359ed352108f3591091a5621de9c6
Deleted: sha256:c4173b1a9baa2788f11883d1070f1eacc8a4857b880a4b3583b300cfeea42d51
Deleted: sha256:495597173e497c7d7d3632144b1f691aaf74abb77b34c6868ea7bd896c4c0dc2
Deleted: sha256:07f2d35e3117a481181ebfcdf77d893e5f931fe1e5db12a502b7441889021f0d
Deleted: sha256:c188ec237d4c352140d8a332848bce7703c896a81f98daee42a7c8c355a75790
Deleted: sha256:349b1114b9fa8442efdfa7695f7955ef0409adb7f4d361eeaef512711c10b1d6
Deleted: sha256:e1756ab74af4a258f413d3f09e94a83859c02dc1e84f898afa5a684b9d6287da
Deleted: sha256:2bddd75bc2be3e7b7202b015d267a08166cf4d8a2f89e935ee9c7c525a948589
Deleted: sha256:745754dcdb44193610645b7151fdade9da09ad8eb8d6a5bf2756df90b5c02a53
Deleted: sha256:eea7260233005ec486765bec132f494936f145a86e19bac752f699362ff878fd
Deleted: sha256:add7fcb3f4e480d273873c0301c02e032612c53ac9ac04b4753a95f77c5b90a9
+ : Successfully built image math-api/addition-api:0.0.4-orchestrate.
+ : ========== BUILD OF ADDITION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ bash ./scripts/push.sh 192.168.1.100:5000 0.0.4-orchestrate
+ : ========== PUSHING ADDITION-API ==========
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ image=math-api/addition-api:0.0.4-orchestrate
+ taggedImage=192.168.1.100:5000/math-api/addition-api:0.0.4-orchestrate
+ docker tag math-api/addition-api:0.0.4-orchestrate 192.168.1.100:5000/math-api/addition-api:0.0.4-orchestrate
+ docker push 192.168.1.100:5000/math-api/addition-api:0.0.4-orchestrate
The push refers to repository [192.168.1.100:5000/math-api/addition-api]
aff31bcda77e: Preparing
73046094a9b8: Preparing
aff31bcda77e: Layer already exists
73046094a9b8: Layer already exists
0.0.4-orchestrate: digest: sha256:52c5f6036034d5dfa365027cac3086b93ba198bfc6112a935e152bde8285e562 size: 739
+ : Successfully pushed image 192.168.1.100:5000/math-api/addition-api:0.0.4-orchestrate.
+ : ========== PUSH OF ADDITION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ '[' deploy == push ']'
+ bash ./scripts/deploy.sh 0.0.4-orchestrate ..
+ : ========== DEPLOYING ADDITION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ version=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ releaseName=addition-api
+ helmFolderLocation=../helm/addition-api
+ chartLocation=../helm/addition-api/Chart.yaml
+ valuesLocation=../helm/addition-api/values.yaml
+ sed -E 's/version: .+/version: 0.0.4-orchestrate/' ../helm/addition-api/Chart.yaml
+ mv ../helm/addition-api/Chart.yaml.intermediate ../helm/addition-api/Chart.yaml
+ sed -E 's/  tag: .+/  tag: 0.0.4-orchestrate/' ../helm/addition-api/values.yaml
+ mv ../helm/addition-api/values.yaml.intermediate ../helm/addition-api/values.yaml
+ helm upgrade --install addition-api ../helm/addition-api
Release "addition-api" has been upgraded. Happy Helming!
LAST DEPLOYED: Sat Sep  8 22:49:31 2018
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME          AGE
addition-api  6d

==> v1beta1/Deployment
addition-api  6d

==> v1/Pod(related)

NAME                           READY  STATUS             RESTARTS  AGE
addition-api-5fcb8884b-4p6sl   0/1    ContainerCreating  0         0s
addition-api-7dd44d8f9c-x7js5  1/1    Terminating        0         19m


NOTES:

Addition API successfully installed!

+ : Successfully deployed release addition-api.
+ : ========== DEPLOYMENT OF ADDITION-API SUCCESSFUL ==========
+ : ==================== ORCHESTRATION OF ADDITION-API SUCCESSFUL ====================
+ cd /Users/Justin/Go/src/math-api/base-api
+ for projectName in "${projectNames[@]}"
+ cd ../subtraction-api
+ bash ./scripts/orchestrate.sh 192.168.1.100:5000 0.0.4-orchestrate deploy ..
+ : ==================== ORCHESTRATING SUBTRACTION-API ====================
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ buildOrchestrationLevel=build
+ pushOrchestrationLevel=push
+ deployOrchestrationLevel=deploy
+ '[' deploy '!=' build ']'
+ '[' deploy '!=' push ']'
+ '[' deploy '!=' deploy ']'
+ orchestrationLevel=deploy
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ '[' ']'
+ bash ./scripts/build.sh 0.0.4-orchestrate ..
+ : ========== BUILDING SUBTRACTION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ buildDockerfile=./Dockerfile.build
+ releaseDockerfile=./Dockerfile.release
+ buildContext=..
+ project=math-api
+ repository=subtraction-api
+ buildImage=math-api/subtraction-api:build
+ releaseImage=math-api/subtraction-api:0.0.4-orchestrate
+ buildArtifact=app
+ buildArtifactLocation=/go/src/math-api/subtraction-api/bin/app
+ docker pull golang:alpine
alpine: Pulling from library/golang
Digest: sha256:9bd3b457354d16b8d84e6bb8fc95a0dd3770a3cefd682056393ad041e40af1f8
Status: Image is up to date for golang:alpine
+ docker pull alpine:latest
latest: Pulling from library/alpine
Digest: sha256:7043076348bf5040220df6ad703798fd8593a0918d06d3ce30c6c93be117e430
Status: Image is up to date for alpine:latest
+ docker build -t math-api/subtraction-api:build -f ./Dockerfile.build ..
Sending build context to Docker daemon  46.64MB
Step 1/10 : FROM golang:alpine
 ---> ffe224d301bc
Step 2/10 : MAINTAINER justinreusnow@gmail.com
 ---> Running in d4e2f0499f61
Removing intermediate container d4e2f0499f61
 ---> bd067a36c084
Step 3/10 : WORKDIR /go/src/math-api/subtraction-api
 ---> Running in 15fce85f3bef
Removing intermediate container 15fce85f3bef
 ---> 20f85360dec5
Step 4/10 : COPY ./base-api ../base-api
 ---> 3d5f083f8adf
Step 5/10 : COPY ./subtraction-api .
 ---> c8280a0b3a83
Step 6/10 : RUN apk add git
 ---> Running in c9765d58cbaf
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz
(1/6) Installing nghttp2-libs (1.32.0-r0)
(2/6) Installing libssh2 (1.8.0-r3)
(3/6) Installing libcurl (7.61.0-r0)
(4/6) Installing expat (2.2.5-r0)
(5/6) Installing pcre2 (10.31-r0)
(6/6) Installing git (2.18.0-r0)
Executing busybox-1.28.4-r0.trigger
OK: 19 MiB in 20 packages
Removing intermediate container c9765d58cbaf
 ---> 0fc9331a172f
Step 7/10 : RUN go get ./cmd/srv
 ---> Running in 2921333a66c3
Removing intermediate container 2921333a66c3
 ---> d1eb174cc19a
Step 8/10 : ENV GOOS=linux
 ---> Running in 01e36630ebec
Removing intermediate container 01e36630ebec
 ---> 4b37ed899ced
Step 9/10 : ENV GOARCH=arm
 ---> Running in 706d5b94d3d8
Removing intermediate container 706d5b94d3d8
 ---> cbcd6872d32b
Step 10/10 : RUN go build -o ./bin/app ./cmd/srv
 ---> Running in 6d0574bb5073
Removing intermediate container 6d0574bb5073
 ---> 8d095f14bf14
Successfully built 8d095f14bf14
Successfully tagged math-api/subtraction-api:build
+ docker create --name build_container math-api/subtraction-api:build
fde553ac332b12ff0858e76d7e16e60a3a6f5cf024df0c7e78a7f94018be5b19
+ docker cp build_container:/go/src/math-api/subtraction-api/bin/app ./app
+ docker rm -f build_container
build_container
+ docker build -t math-api/subtraction-api:0.0.4-orchestrate -f ./Dockerfile.release ..
Sending build context to Docker daemon  56.75MB
Step 1/4 : FROM alpine:latest
 ---> 11cd0b38bc3c
Step 2/4 : WORKDIR /root/
 ---> Using cache
 ---> eb1b1d55c900
Step 3/4 : COPY ./subtraction-api/app .
 ---> Using cache
 ---> 8551add44423
Step 4/4 : CMD ["./app"]
 ---> Using cache
 ---> c9db432fc575
Successfully built c9db432fc575
Successfully tagged math-api/subtraction-api:0.0.4-orchestrate
+ rm -r ./app
+ docker rmi math-api/subtraction-api:build
Untagged: math-api/subtraction-api:build
Deleted: sha256:8d095f14bf14cab711cc2fe8d329c094e8dad587f58e76b6b11186b72add1bed
Deleted: sha256:8dff8d7a876925563cd59b4f485f5aa09190720e8bf7b6b621b8759cf6bbd0e7
Deleted: sha256:cbcd6872d32bfe412c336fb9b48909d3ea969892ef41bae894cef01a84d91708
Deleted: sha256:4b37ed899ced688f00fd4fc08d427ac5ffb8a058e11968099041d7501b8a5be1
Deleted: sha256:d1eb174cc19add83818518828111dea7ecff02d387e529a74e81ea34896ab6aa
Deleted: sha256:fbac292b9962ef99d2f08145aab9e62c984d7c95b41ce3a9354f181d8ec209a0
Deleted: sha256:0fc9331a172fc58b835b2b59d043d2d7d449299039bcc9f2d7d49939e9ac51e3
Deleted: sha256:353a0709bb8c536bc536e0a95036dfee2b0419d12169dc3385f9575ee7f3acac
Deleted: sha256:c8280a0b3a83d5d5c27de7634745829ab6bbdf876d872e2cae73cab18c4925ad
Deleted: sha256:550da0c5225bb3c09c47262977b68f3787d7bdb218443cf88ae0dd09106e940c
Deleted: sha256:3d5f083f8adfcfc6ee77bab37cc83e8d365b529c736d299811355d42e6f645fd
Deleted: sha256:1b50992223bc75b106c0946e05de6b06a9add42fbf50698e7cd87a092f3fdf89
Deleted: sha256:20f85360dec59febbb4738e3c7f029b6fb4acee3a6c4558caedc36e6ab84b114
Deleted: sha256:9031178193211c79b637823ba6ca3cf73d233f292524dc480e5d856dc6d1dda5
Deleted: sha256:bd067a36c084373afe39922f3fbd4b8f6e61d59dd013cce434bc9edc2a5a1454
+ : Successfully built image math-api/subtraction-api:0.0.4-orchestrate.
+ : ========== BUILD OF SUBTRACTION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ bash ./scripts/push.sh 192.168.1.100:5000 0.0.4-orchestrate
+ : ========== PUSHING SUBTRACTION-API ==========
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ image=math-api/subtraction-api:0.0.4-orchestrate
+ taggedImage=192.168.1.100:5000/math-api/subtraction-api:0.0.4-orchestrate
+ docker tag math-api/subtraction-api:0.0.4-orchestrate 192.168.1.100:5000/math-api/subtraction-api:0.0.4-orchestrate
+ docker push 192.168.1.100:5000/math-api/subtraction-api:0.0.4-orchestrate
The push refers to repository [192.168.1.100:5000/math-api/subtraction-api]
f67960bd2f36: Preparing
73046094a9b8: Preparing
f67960bd2f36: Layer already exists
73046094a9b8: Layer already exists
0.0.4-orchestrate: digest: sha256:91b74fdc4b92e660a6f010e15fb91d931d0b45f684b94596de90c33afead0549 size: 739
+ : Successfully pushed image 192.168.1.100:5000/math-api/subtraction-api:0.0.4-orchestrate.
+ : ========== PUSH OF SUBTRACTION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ '[' deploy == push ']'
+ bash ./scripts/deploy.sh 0.0.4-orchestrate ..
+ : ========== DEPLOYING SUBTRACTION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ version=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ releaseName=subtraction-api
+ helmFolderLocation=../helm/subtraction-api
+ chartLocation=../helm/subtraction-api/Chart.yaml
+ valuesLocation=../helm/subtraction-api/values.yaml
+ sed -E 's/version: .+/version: 0.0.4-orchestrate/' ../helm/subtraction-api/Chart.yaml
+ mv ../helm/subtraction-api/Chart.yaml.intermediate ../helm/subtraction-api/Chart.yaml
+ sed -E 's/  tag: .+/  tag: 0.0.4-orchestrate/' ../helm/subtraction-api/values.yaml
+ mv ../helm/subtraction-api/values.yaml.intermediate ../helm/subtraction-api/values.yaml
+ helm upgrade --install subtraction-api ../helm/subtraction-api
Release "subtraction-api" has been upgraded. Happy Helming!
LAST DEPLOYED: Sat Sep  8 22:50:23 2018
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME             AGE
subtraction-api  6d

==> v1beta1/Deployment
subtraction-api  6d

==> v1/Pod(related)

NAME                              READY  STATUS             RESTARTS  AGE
subtraction-api-67f6d4fdd5-lk2xl  1/1    Terminating        0         19m
subtraction-api-799c9b6694-dxmvt  0/1    ContainerCreating  0         1s


NOTES:

Subtraction API successfully installed!

+ : Successfully deployed release subtraction-api.
+ : ========== DEPLOYMENT OF SUBTRACTION-API SUCCESSFUL ==========
+ : ==================== ORCHESTRATION OF SUBTRACTION-API SUCCESSFUL ====================
+ cd /Users/Justin/Go/src/math-api/base-api
+ for projectName in "${projectNames[@]}"
+ cd ../multiplication-api
+ bash ./scripts/orchestrate.sh 192.168.1.100:5000 0.0.4-orchestrate deploy ..
+ : ==================== ORCHESTRATING MULTIPLICATION-API ====================
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ buildOrchestrationLevel=build
+ pushOrchestrationLevel=push
+ deployOrchestrationLevel=deploy
+ '[' deploy '!=' build ']'
+ '[' deploy '!=' push ']'
+ '[' deploy '!=' deploy ']'
+ orchestrationLevel=deploy
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ '[' ']'
+ bash ./scripts/build.sh 0.0.4-orchestrate ..
+ : ========== BUILDING MULTIPLICATION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ buildDockerfile=./Dockerfile.build
+ releaseDockerfile=./Dockerfile.release
+ buildContext=..
+ project=math-api
+ repository=multiplication-api
+ buildImage=math-api/multiplication-api:build
+ releaseImage=math-api/multiplication-api:0.0.4-orchestrate
+ buildArtifact=app
+ buildArtifactLocation=/go/src/math-api/multiplication-api/bin/app
+ docker pull golang:alpine
alpine: Pulling from library/golang
Digest: sha256:9bd3b457354d16b8d84e6bb8fc95a0dd3770a3cefd682056393ad041e40af1f8
Status: Image is up to date for golang:alpine
+ docker pull alpine:latest
latest: Pulling from library/alpine
Digest: sha256:7043076348bf5040220df6ad703798fd8593a0918d06d3ce30c6c93be117e430
Status: Image is up to date for alpine:latest
+ docker build -t math-api/multiplication-api:build -f ./Dockerfile.build ..
Sending build context to Docker daemon  46.65MB
Step 1/10 : FROM golang:alpine
 ---> ffe224d301bc
Step 2/10 : MAINTAINER justinreusnow@gmail.com
 ---> Running in 92e5648b5073
Removing intermediate container 92e5648b5073
 ---> 79853a6df169
Step 3/10 : WORKDIR /go/src/math-api/multiplication-api
 ---> Running in 5a5b2c521ef8
Removing intermediate container 5a5b2c521ef8
 ---> 9a389c121428
Step 4/10 : COPY ./base-api ../base-api
 ---> 9f6769e478e8
Step 5/10 : COPY ./multiplication-api .
 ---> b67fa5fbfc5c
Step 6/10 : RUN apk add git
 ---> Running in 8d57004f13b6
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz
(1/6) Installing nghttp2-libs (1.32.0-r0)
(2/6) Installing libssh2 (1.8.0-r3)
(3/6) Installing libcurl (7.61.0-r0)
(4/6) Installing expat (2.2.5-r0)
(5/6) Installing pcre2 (10.31-r0)
(6/6) Installing git (2.18.0-r0)
Executing busybox-1.28.4-r0.trigger
OK: 19 MiB in 20 packages
Removing intermediate container 8d57004f13b6
 ---> 7c7295201ad2
Step 7/10 : RUN go get ./cmd/srv
 ---> Running in 386586f073fd
Removing intermediate container 386586f073fd
 ---> 941fee92577b
Step 8/10 : ENV GOOS=linux
 ---> Running in 851666402ece
Removing intermediate container 851666402ece
 ---> 117fc9a09cd1
Step 9/10 : ENV GOARCH=arm
 ---> Running in 1a44ddfae69f
Removing intermediate container 1a44ddfae69f
 ---> 23e948914898
Step 10/10 : RUN go build -o ./bin/app ./cmd/srv
 ---> Running in bc7194f6c8ec
Removing intermediate container bc7194f6c8ec
 ---> f21c921e5a44
Successfully built f21c921e5a44
Successfully tagged math-api/multiplication-api:build
+ docker create --name build_container math-api/multiplication-api:build
32be9461aac870f12e90e7863bc76a503ac2cd5c121e77cb23c0ca8f9487a70c
+ docker cp build_container:/go/src/math-api/multiplication-api/bin/app ./app
+ docker rm -f build_container
build_container
+ docker build -t math-api/multiplication-api:0.0.4-orchestrate -f ./Dockerfile.release ..
Sending build context to Docker daemon  56.75MB
Step 1/4 : FROM alpine:latest
 ---> 11cd0b38bc3c
Step 2/4 : WORKDIR /root/
 ---> Using cache
 ---> eb1b1d55c900
Step 3/4 : COPY ./multiplication-api/app .
 ---> Using cache
 ---> 0958cebfde2e
Step 4/4 : CMD ["./app"]
 ---> Using cache
 ---> ab34ca086d16
Successfully built ab34ca086d16
Successfully tagged math-api/multiplication-api:0.0.4-orchestrate
+ rm -r ./app
+ docker rmi math-api/multiplication-api:build
Untagged: math-api/multiplication-api:build
Deleted: sha256:f21c921e5a4469894f476e7b0dd96c4a054a3b57725f23c51d8e5f99efb7f79d
Deleted: sha256:0f581e0bb4f6ac197a29ad08a6a7afe88bc16dd69df195e25cdee8b27c5e629d
Deleted: sha256:23e948914898a798fce6655d690a7600adf9dfa9b6c35e7d5b244d06cb1afbc1
Deleted: sha256:117fc9a09cd1a6374e0355b3eaf0e9b31fd8416220b877e1231b7102143b4629
Deleted: sha256:941fee92577b4080175e7443d1c12bd91234d7a4c4a9361cf412fb44b9437de4
Deleted: sha256:fe71e5fbbc252b0bf8e05e0aeedd334ee8d41457a42e4c3538ce7ad0ee9da48e
Deleted: sha256:7c7295201ad2bc88fcc8ca494957e9f8db928a07d90587b7204668de701ab6cf
Deleted: sha256:8dbbea5c3d27dd139cbbd81239d7adb4d6c1e6958385fe27ee730522d1201760
Deleted: sha256:b67fa5fbfc5c08aa5a9bc9c89d372c6817c172771c77427c81f9859ede74b746
Deleted: sha256:9c23c24d97457bbd8ec517e232a6f9fdf273e7b506fed9b4d64bd10d0524ae81
Deleted: sha256:9f6769e478e80080deaa89f6904d0e1ec2c93b058fc9785ae142ecc431e9d485
Deleted: sha256:120b87418d72be3c8e81c8719bc3352e14a04455bcb38c9c20befe70ff218854
Deleted: sha256:9a389c121428ecccd1452163f776e9193fe95543d98e7358d5357c011d7d990a
Deleted: sha256:dfdcc281a36e0e6527720a9759f063bc3af0f2a9055f59538b519222c826fdec
Deleted: sha256:79853a6df1693b7a24e9b167109021e7c188d16307ca088f8c8bef38e4fb23c9
+ : Successfully built image math-api/multiplication-api:0.0.4-orchestrate.
+ : ========== BUILD OF MULTIPLICATION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ bash ./scripts/push.sh 192.168.1.100:5000 0.0.4-orchestrate
+ : ========== PUSHING MULTIPLICATION-API ==========
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ image=math-api/multiplication-api:0.0.4-orchestrate
+ taggedImage=192.168.1.100:5000/math-api/multiplication-api:0.0.4-orchestrate
+ docker tag math-api/multiplication-api:0.0.4-orchestrate 192.168.1.100:5000/math-api/multiplication-api:0.0.4-orchestrate
+ docker push 192.168.1.100:5000/math-api/multiplication-api:0.0.4-orchestrate
The push refers to repository [192.168.1.100:5000/math-api/multiplication-api]
582581de90ad: Preparing
73046094a9b8: Preparing
73046094a9b8: Layer already exists
582581de90ad: Layer already exists
0.0.4-orchestrate: digest: sha256:5dfa1490c6d9c0a118008c1c90cf619b271424055ffcda9a0dfc9620b5e43548 size: 739
+ : Successfully pushed image 192.168.1.100:5000/math-api/multiplication-api:0.0.4-orchestrate.
+ : ========== PUSH OF MULTIPLICATION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ '[' deploy == push ']'
+ bash ./scripts/deploy.sh 0.0.4-orchestrate ..
+ : ========== DEPLOYING MULTIPLICATION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ version=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ releaseName=multiplication-api
+ helmFolderLocation=../helm/multiplication-api
+ chartLocation=../helm/multiplication-api/Chart.yaml
+ valuesLocation=../helm/multiplication-api/values.yaml
+ sed -E 's/version: .+/version: 0.0.4-orchestrate/' ../helm/multiplication-api/Chart.yaml
+ mv ../helm/multiplication-api/Chart.yaml.intermediate ../helm/multiplication-api/Chart.yaml
+ sed -E 's/  tag: .+/  tag: 0.0.4-orchestrate/' ../helm/multiplication-api/values.yaml
+ mv ../helm/multiplication-api/values.yaml.intermediate ../helm/multiplication-api/values.yaml
+ helm upgrade --install multiplication-api ../helm/multiplication-api
Release "multiplication-api" has been upgraded. Happy Helming!
LAST DEPLOYED: Sat Sep  8 22:51:15 2018
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME                AGE
multiplication-api  6d

==> v1beta1/Deployment
multiplication-api  6d

==> v1/Pod(related)

NAME                                 READY  STATUS             RESTARTS  AGE
multiplication-api-64564dd648-chc2h  0/1    ContainerCreating  0         0s
multiplication-api-88946f8b7-stmb5   1/1    Terminating        0         19m


NOTES:

Multiplication API successfully installed!

+ : Successfully deployed release multiplication-api.
+ : ========== DEPLOYMENT OF MULTIPLICATION-API SUCCESSFUL ==========
+ : ==================== ORCHESTRATION OF MULTIPLICATION-API SUCCESSFUL ====================
+ cd /Users/Justin/Go/src/math-api/base-api
+ for projectName in "${projectNames[@]}"
+ cd ../division-api
+ bash ./scripts/orchestrate.sh 192.168.1.100:5000 0.0.4-orchestrate deploy ..
+ : ==================== ORCHESTRATING DIVISION-API ====================
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ buildOrchestrationLevel=build
+ pushOrchestrationLevel=push
+ deployOrchestrationLevel=deploy
+ '[' deploy '!=' build ']'
+ '[' deploy '!=' push ']'
+ '[' deploy '!=' deploy ']'
+ orchestrationLevel=deploy
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ '[' ']'
+ bash ./scripts/build.sh 0.0.4-orchestrate ..
+ : ========== BUILDING DIVISION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ buildDockerfile=./Dockerfile.build
+ releaseDockerfile=./Dockerfile.release
+ buildContext=..
+ project=math-api
+ repository=division-api
+ buildImage=math-api/division-api:build
+ releaseImage=math-api/division-api:0.0.4-orchestrate
+ buildArtifact=app
+ buildArtifactLocation=/go/src/math-api/division-api/bin/app
+ docker pull golang:alpine
alpine: Pulling from library/golang
Digest: sha256:9bd3b457354d16b8d84e6bb8fc95a0dd3770a3cefd682056393ad041e40af1f8
Status: Image is up to date for golang:alpine
+ docker pull alpine:latest
latest: Pulling from library/alpine
Digest: sha256:7043076348bf5040220df6ad703798fd8593a0918d06d3ce30c6c93be117e430
Status: Image is up to date for alpine:latest
+ docker build -t math-api/division-api:build -f ./Dockerfile.build ..
Sending build context to Docker daemon  46.65MB
Step 1/10 : FROM golang:alpine
 ---> ffe224d301bc
Step 2/10 : MAINTAINER justinreusnow@gmail.com
 ---> Running in d3cf041a8679
Removing intermediate container d3cf041a8679
 ---> 8da14536b3ca
Step 3/10 : WORKDIR /go/src/math-api/division-api
 ---> Running in 519ef9a9fa76
Removing intermediate container 519ef9a9fa76
 ---> 8acdf1b4fb27
Step 4/10 : COPY ./base-api ../base-api
 ---> c6e5f4914f06
Step 5/10 : COPY ./division-api .
 ---> 35440255851c
Step 6/10 : RUN apk add git
 ---> Running in 42625cd866d8
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz
(1/6) Installing nghttp2-libs (1.32.0-r0)
(2/6) Installing libssh2 (1.8.0-r3)
(3/6) Installing libcurl (7.61.0-r0)
(4/6) Installing expat (2.2.5-r0)
(5/6) Installing pcre2 (10.31-r0)
(6/6) Installing git (2.18.0-r0)
Executing busybox-1.28.4-r0.trigger
OK: 19 MiB in 20 packages
Removing intermediate container 42625cd866d8
 ---> d2f6f427c1b4
Step 7/10 : RUN go get ./cmd/srv
 ---> Running in 9713f56c2f3d
Removing intermediate container 9713f56c2f3d
 ---> 9ecd7dbc5979
Step 8/10 : ENV GOOS=linux
 ---> Running in f9b6a1e2e753
Removing intermediate container f9b6a1e2e753
 ---> 00a15a8fa243
Step 9/10 : ENV GOARCH=arm
 ---> Running in bafde70f4e98
Removing intermediate container bafde70f4e98
 ---> 18b0ce093c0b
Step 10/10 : RUN go build -o ./bin/app ./cmd/srv
 ---> Running in 5b21c875a434
Removing intermediate container 5b21c875a434
 ---> 2ff6ecec5548
Successfully built 2ff6ecec5548
Successfully tagged math-api/division-api:build
+ docker create --name build_container math-api/division-api:build
fa150c5b519cf5fe1e5f400b2d827f0c6e07bf24aa8a8aeb1afac7fda987f11e
+ docker cp build_container:/go/src/math-api/division-api/bin/app ./app
+ docker rm -f build_container
build_container
+ docker build -t math-api/division-api:0.0.4-orchestrate -f ./Dockerfile.release ..
Sending build context to Docker daemon  56.76MB
Step 1/4 : FROM alpine:latest
 ---> 11cd0b38bc3c
Step 2/4 : WORKDIR /root/
 ---> Using cache
 ---> eb1b1d55c900
Step 3/4 : COPY ./division-api/app .
 ---> Using cache
 ---> 07780917de82
Step 4/4 : CMD ["./app"]
 ---> Using cache
 ---> 79b519900ea6
Successfully built 79b519900ea6
Successfully tagged math-api/division-api:0.0.4-orchestrate
+ rm -r ./app
+ docker rmi math-api/division-api:build
Untagged: math-api/division-api:build
Deleted: sha256:2ff6ecec554814b6510f66e2fe1ed90acd9f6468e1d591b639f5a64495e270c8
Deleted: sha256:f4f8f83940574f202ed99892602e30b8d03c418052190777008cf08259a58c20
Deleted: sha256:18b0ce093c0b3623e7d6c7c9843015ce695f693133a94c59891d67beb52cfbd8
Deleted: sha256:00a15a8fa2432e7c4a417845e25152fad2505a3abe52c55104cfa4b25ecb664e
Deleted: sha256:9ecd7dbc5979877cc76abdba8941bc1bfa31bfc5f19339b53d2371ea9c1e3d6b
Deleted: sha256:1004fa3c620b17b172df510c65b04afcc46ed2f34fca136b7f904313f3e6244d
Deleted: sha256:d2f6f427c1b4de770ffd5bfe220cb72a48bb31941d63337a36bb726149f6cd6f
Deleted: sha256:1a09c7d8b4b2ae76825af9f0c9067855b6e7acb9e7bb1a2c3c508940ba8603ee
Deleted: sha256:35440255851c5884dee6f2b6cb9aff59e6df0bbdc49463ca3b0e2bd0844e6258
Deleted: sha256:80765910ce190855dff0c9f4f96357dbebceb6f787cad115df89f0e15c90e7a7
Deleted: sha256:c6e5f4914f06a642a27bd4caa6f1451da0f89a602eb4d3116b41b2cd73f5d036
Deleted: sha256:cf7100c72958c14b35bdb2c3294e9bd1e527d44ac02e7a736b0e752c3c1f3e1c
Deleted: sha256:8acdf1b4fb27f213d4ac777acca9a919e9b2e63b3d429f129f40185d116c1d01
Deleted: sha256:f8a0e751ce9eed227a59c2f39d83e74f93690e8df97bf46328d2210e5532aa3e
Deleted: sha256:8da14536b3cac1ae6db7d8e92ac580982a68db3a46468afee1eae2ecd8ba59b5
+ : Successfully built image math-api/division-api:0.0.4-orchestrate.
+ : ========== BUILD OF DIVISION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ bash ./scripts/push.sh 192.168.1.100:5000 0.0.4-orchestrate
+ : ========== PUSHING DIVISION-API ==========
+ '[' 192.168.1.100:5000 == '' ']'
+ registry=192.168.1.100:5000
+ '[' 0.0.4-orchestrate == '' ']'
+ tag=0.0.4-orchestrate
+ image=math-api/division-api:0.0.4-orchestrate
+ taggedImage=192.168.1.100:5000/math-api/division-api:0.0.4-orchestrate
+ docker tag math-api/division-api:0.0.4-orchestrate 192.168.1.100:5000/math-api/division-api:0.0.4-orchestrate
+ docker push 192.168.1.100:5000/math-api/division-api:0.0.4-orchestrate
The push refers to repository [192.168.1.100:5000/math-api/division-api]
c6229c52dc39: Preparing
73046094a9b8: Preparing
73046094a9b8: Layer already exists
c6229c52dc39: Layer already exists
0.0.4-orchestrate: digest: sha256:0e6e66cb9a59fa12bbaa229406d101645d7080d38138c150f3429a9563aaadef size: 739
+ : Successfully pushed image 192.168.1.100:5000/math-api/division-api:0.0.4-orchestrate.
+ : ========== PUSH OF DIVISION-API SUCCESSFUL ==========
+ '[' deploy == build ']'
+ '[' deploy == push ']'
+ bash ./scripts/deploy.sh 0.0.4-orchestrate ..
+ : ========== DEPLOYING DIVISION-API ==========
+ '[' 0.0.4-orchestrate == '' ']'
+ version=0.0.4-orchestrate
+ '[' .. == '' ']'
+ mathAPiRootLocation=..
+ releaseName=division-api
+ helmFolderLocation=../helm/division-api
+ chartLocation=../helm/division-api/Chart.yaml
+ valuesLocation=../helm/division-api/values.yaml
+ sed -E 's/version: .+/version: 0.0.4-orchestrate/' ../helm/division-api/Chart.yaml
+ mv ../helm/division-api/Chart.yaml.intermediate ../helm/division-api/Chart.yaml
+ sed -E 's/  tag: .+/  tag: 0.0.4-orchestrate/' ../helm/division-api/values.yaml
+ mv ../helm/division-api/values.yaml.intermediate ../helm/division-api/values.yaml
+ helm upgrade --install division-api ../helm/division-api
Release "division-api" has been upgraded. Happy Helming!
LAST DEPLOYED: Sat Sep  8 22:52:05 2018
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME          AGE
division-api  6d

==> v1beta1/Deployment
division-api  6d

==> v1/Pod(related)

NAME                           READY  STATUS             RESTARTS  AGE
division-api-5d6488959-5mhxp   0/1    ContainerCreating  0         1s
division-api-7d89b74db8-bs98g  1/1    Terminating        0         5m


NOTES:

Division API successfully installed!

+ : Successfully deployed release division-api.
+ : ========== DEPLOYMENT OF DIVISION-API SUCCESSFUL ==========
+ : ==================== ORCHESTRATION OF DIVISION-API SUCCESSFUL ====================
+ cd /Users/Justin/Go/src/math-api/base-api
+ : ============================== ORCHESTRATION OF MATH-API SUCCESSFUL ==============================
